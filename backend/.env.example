# Backend runtime environment
APP_ENV=local
PORT=3000

# URL used for absolute wallpaper links (/w/<token>).
# Leave empty to return relative URLs.
PUBLIC_BASE_URL=http://localhost:3000

# CORS allowlist (comma-separated).
# local: optional (defaults to "*")
# staging/production: required and must not include "*"
CORS_ALLOW_ORIGINS=http://localhost:8081,http://localhost:19006

# Database path:
# - empty => default backend/data.db
# - filesystem path => e.g. /data/pixels.db
# - sqlite URL => e.g. sqlite:////data/pixels.db
DATABASE_URL=

# Dev session bypass token (non-production only).
# In production this is always ignored.
EXPO_PUBLIC_DEV_BEARER_TOKEN=cheese
# DEV_BEARER_TOKEN=cheese

# Apple Sign In token verification
# local default: true
# production: always forced to false
ALLOW_INSECURE_APPLE_AUTH=true

# Required when ALLOW_INSECURE_APPLE_AUTH=false
APPLE_CLIENT_IDS=com.example.yearinpixels
APPLE_JWKS_URL=https://appleid.apple.com/auth/keys
APPLE_ISSUER=https://appleid.apple.com
APPLE_JWKS_CACHE_TTL_SECONDS=3600

# Session policy
SESSION_TTL_SECONDS=2592000
SESSION_ROTATE_INTERVAL_SECONDS=86400

# /auth/apple rate limits
AUTH_RATE_LIMIT_MAX_REQUESTS=30
AUTH_RATE_LIMIT_WINDOW_SECONDS=60
AUTH_RATE_LIMIT_BLOCK_SECONDS=300
