# Backend runtime environment
APP_ENV=staging
PORT=3000

# Public API URL used by token endpoints to build absolute wallpaper URLs
PUBLIC_BASE_URL=https://staging-api.example.com
CORS_ALLOW_ORIGINS=https://staging.yearinpixels.app

# Neon / PostgreSQL URL
DATABASE_URL=postgresql://<user>:<password>@<neon-host>/<database>?sslmode=require

# Apple Sign In verification
APPLE_CLIENT_IDS=com.example.yearinpixels.staging
ALLOW_INSECURE_APPLE_AUTH=false
APPLE_JWKS_URL=https://appleid.apple.com/auth/keys
APPLE_ISSUER=https://appleid.apple.com
APPLE_JWKS_CACHE_TTL_SECONDS=3600

# Session policy
SESSION_TTL_SECONDS=2592000
SESSION_ROTATE_INTERVAL_SECONDS=86400

# /auth/apple rate limits
AUTH_RATE_LIMIT_MAX_REQUESTS=30
AUTH_RATE_LIMIT_WINDOW_SECONDS=60
AUTH_RATE_LIMIT_BLOCK_SECONDS=300

# Optional dev bypass token for staging smoke tests
EXPO_PUBLIC_DEV_BEARER_TOKEN=replace-with-random-staging-token
